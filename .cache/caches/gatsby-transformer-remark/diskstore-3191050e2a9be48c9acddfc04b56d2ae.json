{"expireTime":9007200823659037000,"key":"transformer-remark-markdown-html-1af1a9216e0d0d881cc5b067fe699188--","val":"<p>While I was working to add Javascript to my Rails application I ran into a slight problem. In one of my views, I had two links that should conditionally show up depending whether or not you were the owner of the object on that show page:</p>\n<pre><code>&#x3C;% if @destination.creator == @current_user %>\n      &#x3C;div id=\"conditional-buttons\">\n        &#x3C;%= link_to \"Update this destination\", edit_destination_path(@destination), id:'update'%>\n        &#x3C;%= link_to \"Delete this destination\", @destination, method: :delete, id:'delete' %>\n      &#x3C;/div>\n&#x3C;% end %>\n</code></pre>\n<p>This worked perfectly for me when I had just a Rails app, but then I added a next button to my page so you could asynchronously flip through the different Destination objects and have their information show up without reloading the page. All of content on the page switched how I had hoped, but the buttons didn't change when I switched to view a Destination that I did not own, allowing me to update or delete that Destination when I shouldn't be allowed to.</p>\n<p>The issue was that in the above code snippet, I am carrying over the same @destination.id of the original show page instead of updating it to the new destination.id of the current one that is showing. Since that was written in ruby, I wouldn't be able to update that value in my JS file. My other option was to take that code out of my view and rewrite it in my JS file. My issue with that was how to grab that @destination object that is defined in the controller so I can use the creator_id to compare to my current user.. whose information I also wouldn't be able to grab from the controller the same way I had in my view file.</p>\n<p>The answer:\nLocal Storage.</p>\n<p>Before HTML 5, application data had to be stored in cookies, included with every server request, but now with web storage, web application can store data locally within the user's browser without affecting website performance. HTML web storage provides two objects for storing data on the client: localStorage and sessionStorage.\nSessionStorage stores data for one session while localStorage stores data with no expiration date -- localStorage data will not be deleted when the browser is closed.</p>\n<p>LocalStorage has 5 methods to choose from that you can use in your web applications:</p>\n<p><strong>setItem()</strong> - adds a key and value to LocalStorage</p>\n<ul>\n<li>setItem() take a key and a value and can only store strings</li>\n</ul>\n<p><code>window.localStorage.setItem('name', 'Savannah')</code></p>\n<ul>\n<li>if you need to store an array or object, you can convert it to a string using JSON.stringify</li>\n</ul>\n<pre><code>const person= {\n'firstName' : 'Savannah',\n'lastName' : 'Younts'\n}\nwindow.localStorage.setItem('user', JSON.stringify(person))\n</code></pre>\n<p><strong>getItem()</strong> - access a stored dtata value</p>\n<ul>\n<li>getItem() accepts a key and returns a value as a string -- you may have to convert it back to JSON using JSON.parse()</li>\n</ul>\n<p><code>window.localStorage.getItem('name'</code>)</p>\n<p>or</p>\n<p><code>JSON.parse(window.localStorage.getItem('user')</code></p>\n<p><strong>removeItem()</strong> -  remove a key from the storage</p>\n<p><code>window.localStorage.removeItem('user'</code>)</p>\n<p><strong>clear ()</strong> - clears storage of all records for that domain</p>\n<p><code>window.localStorage.clear()</code></p>\n<p><strong>key()</strong> -  finds the key of a stored value</p>\n<p><code>var keyName = window.localStorage.key('Savannah')</code></p>\n<p>DON'TS for LocalStorage:</p>\n<ul>\n<li>don't store any sensitive information in localStorage, it is very insecure so should not hold any information like passwords.</li>\n<li>it is not a substitute for a server database -- information is ONLY stored in the browser</li>\n<li>it is not used to store very large amounts of data, it is limited to 5 MB</li>\n</ul>"}